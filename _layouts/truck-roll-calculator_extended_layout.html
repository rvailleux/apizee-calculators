<!DOCTYPE html>
<html lang="{{page.lang}}">
<!-- Version Number : 1.0 -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="16x16" href="{{site.baseurl}}/assets/images/favicon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="{{site.baseurl}}/assets/images/favicon/favicon-32x32.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"> 
    <link rel="stylesheet" href="{{site.baseurl}}/assets/css/truckroll_extended_style.css">

    <title>{{page.title}}</title>
</head>

<body>
    <div class="container container-box p-3">
        <div class="row">
            <div class="col-sm-3">
                <h2>{{page.CTA}}</h2>
                <div class="shadow  truck-roll-input">
                    <form id="truck-roll-form" class="p-3 mt-4 needs-validation" novalidate>
                        <div class="row">
                            <label for="num-truck-rolls">{{page.nbTruckrollLabel}}:</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="num-truck-rolls" name="num-truck-rolls"
                                    placeholder="{{page.nbTruckrollExample}}" aria-describedby="truckRollsHelp"
                                    value="14" min="0" required>
                            </div>
                            <div class="invalid-feedback">
                                Please enter a value greater than 0
                            </div>
                            <small id="truckRollsHelp" class="form-text text-muted">{{page.nbTruckrollHint}}</small>

                        </div>
                        <div class="row">
                            <label for="avg-truck-roll-distance">{{page.avgTruckRollDistanceLabel}}:</label>

                            <div class="input-group">
                                <span class="input-group-text"
                                    id="inputGroup-truck-troll-distance">{{page.distanceUnit}}</span>
                                <input type="number" class="form-control" id="avg-truck-roll-distance"
                                    name="avg-truck-roll-distance" placeholder="{{page.avgTruckRollDistanceExample}}"
                                    min="0" aria-describedby="avgTruckRollDistanceHelp" value="120" required>
                            </div>
                            <div class="invalid-feedback">
                                Please enter a value greater than 0
                            </div>
                            <small id="avgTruckRollDistanceHelp"
                                class="form-text text-muted">{{page.avgTruckRollDistanceHint}}</small>

                        </div>
                        <div class="row">
                            <label for="num-technicians">{{page.numTechniciansLabel}}:</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="num-technicians" name="num-technicians"
                                    min="0" placeholder="{{page.numTechniciansExample}}"
                                    aria-describedby="numTechniciansHelp" value="5" min="0" required>
                            </div>
                            <div class="invalid-feedback">
                                Please enter a value greater than 0
                            </div>
                            <small id="numTechniciansHelp"
                                class="form-text text-muted">{{page.numTechniciansHint}}</small>

                        </div>
                        <div class="row">
                            <label for="cost-per-distance">{{page.costPerDistanceLabel}}:</label>
                            <div class=" input-group">
                                <span class="input-group-text" id="inputgroup-cost-per-distance">€</span>
                                <input type="number" class="form-control" id="cost-per-distance"
                                    name="cost-per-distance" placeholder="{{page.costPerDistanceExample}}"
                                    aria-describedby="costPerDistanceHelp" value="90" min="0" required>
                            </div>
                            <div class="invalid-feedback">
                                Please enter a value greater than 0
                            </div>
                            <small id="costPerDistanceHelp" class="form-text text-muted">{{page.costPerDistanceHint}} 
                                <!-- <i
                                    class="fa-solid fa-circle-info" data-bs-toggle="collapse"
                                    href="#labor-cost-percentage-div" role="button" aria-expanded="false"
                                    aria-controls="labor-cost-percentage-div"></i> -->
                                </small>

                        </div>
                        <!-- <div class="row collapse" id="labor-cost-percentage-div">
                            <label for="labor-cost-percentage">{{page.laborCostPercentageLabel}}:</label>
                            <div class="input-group">
                                <span class="input-group-text" id="inputGroup-laborCostPercentage">%</span>
                                <input type="number" class="form-control" id="labor-cost-percentage"
                                    name="labor-cost-percentage" placeholder="{{page.laborCostPercentageExample}}"
                                    aria-describedby="laborCostPercentageHelp" value="90" min="0" max="100" required>
                            </div>
                            <div class="invalid-feedback">
                                Please enter a value between 1 and 100
                            </div>
                            <small id="laborCostPercentageHelp"
                                class="form-text text-muted">{{page.laborCostPercentageHint}}</small>
                        </div> -->

                        <div class="row">
                            <label for="first-time-fix-rate">{{page.firstTimeFixRateLabel}}:</label>
                            <div class="input-group">
                                <span class="input-group-text" id="inputGroup-firstTimeFixRate">%</span>
                                <input type="number" class="form-control" id="first-time-fix-rate"
                                    name="first-time-fix-rate" placeholder="{{page.firstTimeFixRateExample}}"
                                    aria-describedby="firstTimeFixRateHelp" value="75" min="0" max="100" required>
                            </div>
                            <div class="invalid-feedback">
                                Please enter a value between 1 and 100
                            </div>
                            <small id="firstTimeFixRateHelp"
                                class="form-text text-muted">{{page.firstTimeFixRateHint}}</small>
                        </div>
                        <div class="row">
                            <label for="no-fault-found-rate">{{page.noFaultFoundRateLabel}}:</label>
                            <div class=" input-group">
                                <span class="input-group-text" id="inputGroup-noFaultFoundRate">%</span>
                                <input type="number" class="form-control" id="no-fault-found-rate"
                                    name="no-fault-found-rate" placeholder="{{page.noFaultFoundRateExample}}"
                                    aria-describedby="noFaultFoundRateHelp" value="15" min="0" max="100" required>
                            </div>
                            <div class="invalid-feedback">
                                Please enter a value between 1 and 100
                            </div>
                            <small id="noFaultFoundRateHelp"
                                class="form-text text-muted">{{page.noFaultFoundRateHint}}</small>

                        </div>

                        <button class="btn btn-primary btn-cta" type="submit">Calculate</button>

                    </form>
                    <div id="error-message" class="mt-4 text-danger"></div>
                </div>
                <div class="mt-4">
                    <a href="#" id="share-link">{{page.shareThisToolLink}} <i class="fas fa-share-alt"></i></a>
                    <div id="share-icons" class="share-icons" style="display: none;">
                        <a href="mailto:?subject={{page.shareSubjectEmail}}&body={{page.shareEmailBody}}" target="_blank"><i
                                class="fas fa-envelope"></i></a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u={{page.truckrollPageURL}}" target="_blank"><i
                                class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/intent/tweet?text={{page.shareTwitterText}} {{page.truckrollPageURL}}"
                            target="_blank"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.linkedin.com/sharing/share-offsite/?url={{page.truckrollPageURL}}"
                            target="_blank"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="col-sm-9">
                <div id="results" class="p-3 rounded" aria-live="polite">

                    <!-- Total cost of truck roll per year -->
                    <div class="result-output row main-result" id="result-total-cost">
                        <p class="result-section-title">{{page.total_cost_per_year_label}}</p>
                        <p class="result-value">
                            <span class="pre-unit">{{page.currencyUnitPre}}</span>
                            <span class="value">162{{page.total_cost_per_year_kilo}}</span>
                            <span class="post-unit">{{page.total_cost_per_year_unit}}</span>
                        </p>
                    </div>
                    <div class="row result-hypothesis">
                       For 14 truck rolls per month of an average distance of 120km with an average cost of 90€/km. Department of 5 technicians with a average TTF rate of 75% and an average NFF of 15%.
                    </div>

                    <!-- Cost per truck roll -->
                    <div class="row costs-tiles tiles row-cols-4 p-3">
                        <div class="result-output col-sm m-1 p-3">

                            <p class="result-value ">
                                <span class="pre-unit ">{{page.currencyUnitPre}}</span>
                                <span class="value ">968</span>
                                <span class="post-unit ">{{page.currencyUnitPost}}</span>
                            </p>
                            <p class="result-data-title"> {{page.cost_per_roll_label}}</p>

                        </div>

                        <!-- Cost of useless truck rolls -->
                        <div class="result-output col-sm m-1 p-3">

                            <p class="result-value">
                                <span class="pre-unit ">{{page.currencyUnitPre}}</span>
                                <span class="value ">65,040</span>
                                <span class="post-unit ">{{page.currencyUnitPost}}</span>
                            </p>
                            <p class="result-data-title">{{page.cost_of_useless_rolls_label}}</p>
                        </div>

                        <!-- Average employee hours per truck roll -->
                        <div class="result-output col-sm p-3 m-1">
                            <p class="result-value ">
                                <span class="value" style="text-align:right; padding-right:5px">52</span>
                                <span class="post-unit " style="padding-left:0;text-align:left;">{{page.hoursUnit}}</span>
                            </p>
                            <p class="result-data-title">{{page.avg_employee_hours_label}}</p>
                        </div>

                        <!-- Cost per km -->
                        <div class="result-output col-sm p-3 m-1">
                            <p class="result-value " >
                                <span class="pre-unit ">{{page.currencyUnitPre}}</span>
                                <span class="value ">8.07</span>
                                <span class="post-unit ">{{page.currencyUnitPost}}</span>
                            </p>
                            <p class="result-data-title">{{page.cost_per_km_label}}</p>
                        </div>
                    </div>


                    <!-- <div class="row result-cost-distribution">
                        
                        <div class="col-sm-8 align-items-center">
                            <p class="result-section-title row">{{page.results_distribution_title}}</p>
                            <div class="result-output row">
                                <p class="col-sm-6 result-data-title">{{page.labor_costs_label}}</p>
                                <p class="col-sm-6 result-value">
                                    <span class="pre-unit">{{page.currencyUnitPre}}</span>
                                    <span class="value">146,340.00</span>
                                    <span class="post-unit">{{page.currencyUnitPost}}</span>
                                    <span class="percentage">(90%)</span>
                                </p>
                            </div>

                            <div class="result-output row">
                                <p class="col-sm-6 result-data-title">{{page.gasoline_cost_label}}</p>
                                <p class="col-sm-6 result-value">
                                    <span class="pre-unit">{{page.currencyUnitPre}}</span>
                                    <span class="value">2,959.24</span>
                                    <span class="post-unit">{{page.currencyUnitPost}}</span>
                                    <span class="percentage">(2%)</span>
                                </p>
                            </div>

                            <div class="result-output row">
                                <p class="col-sm-6 result-data-title">{{page.other_costs_label}}</p>
                                <p class="col-sm-6 result-value">
                                    <span class="pre-unit">{{page.currencyUnitPre}}</span>
                                    <span class="value">13,300.76</span>
                                    <span class="post-unit">{{page.currencyUnitPost}}</span>
                                    <span class="percentage">(8%)</span>
                                </p>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <canvas id="costs-breakdown-chart" ></canvas>
                        </div>
                    </div> -->

                    <!-- Estimated savings with Apizee -->
                    <div class="row result-savings tiles">
                        <p class="result-section-title">{{page.results_savings_title}}</p>
                        <!-- Savings -->
                        <div class="result-output col-sm p-3 m-1">
                            <p class="result-value">
                                <span class="pre-unit">{{page.currencyUnitPre}}</span>
                                <span class="value">65,040</span>
                                <span class="post-unit">{{page.currencyUnitPost}}</span>
                            </p>
                            <p class="result-data-title">{{page.estimated_savings_label}}</p>
                            
                        </div>

                        <!-- Hours given back to employees -->
                        <div class="result-output col-sm p-3 m-1">
                            
                            <p class="result-value">
                                <span class="value">3520</span>
                                <span class="post-unit">{{page.hoursUnit}}</span>
                            </p>
                            <p class="result-data-title">{{page.hours_given_back_label}}
                            </p>
                        </div>

                        <!-- Fewer truck rolls per year -->
                        <div class="result-output col-sm p-3 m-1">
                            
                            <p class="result-value">
                                <span class="value">67</span>
                                <span class="post-unit">{{page.truckRollsUnit}}</span>
                            </p>
                            <p class="result-data-title">{{page.fewer_rolls_label}}</p>
                        </div>

                        <!-- T CO2 eq emissions avoided -->
                        <div class="result-output col-sm p-3 m-1">
                            
                            <p class="result-value">
                                <span class="value">0.6</span>
                                <span class="post-unit">{{page.co2EmissionsUnit}}</span>
                            </p>
                            <p class="result-data-title">
                                {{page.co2_emissions_avoided_label}}</p>
                        </div>
                    </div>

                    <!-- Apizee would pay for itself in just -->
                    <div class="result-output row result-breakeven">
                        <p class="result-data-title">{{page.apizee_payback_label}}</p>
                        <p class="result-value">
                            <span class="value">7</span>
                            <span class="post-unit">{{page.weeksUnit}}</span>
                        </p>
                    </div>

                </div>
            </div>
        </div>
    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2/dist/js/bootstrap.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="{{site.baseurl}}/assets/js/labor-chart.js"></script>

    <script>
        // Data for the chart
        var options = {
            title:"Cost breakdown",
            labels: ["Cost of labor", "Cost of gasoline", "Other costs"],
            colors: ["#EB3E0A", "#F88562", "#FDF3E8"],
            values: [0.8, 0.1, 0.1],
            canvas_id: "costs-breakdown-chart"
        }

        makeChart(options)

    </script>


    <script>

        document.getElementById("share-link").addEventListener("click", function (e) {
            e.preventDefault();
            var shareIcons = document.getElementById("share-icons");
            shareIcons.style.display = shareIcons.style.display === "none" ? "block" : "none";
        });

        function calculateSavings() {


            // Clear previous errors and styles
            document.getElementById("error-message").innerHTML = "";
            document.getElementById("num-truck-rolls").classList.remove("error-input");

            var numTruckRolls = document.getElementById("num-truck-rolls").value == "" ? 0 : parseInt(document.getElementById("num-truck-rolls").value)

            // Validate input values
            if (isNaN(numTruckRolls) || parseInt(numTruckRolls) < 0) {
                document.getElementById("error-message").innerHTML = "{{page.errorInvalidTruckrollNumber}}";
                document.getElementById("num-truck-rolls").classList.add("error-input");
                return;
            }

            var costPerTruckRoll = 100;


            var reductionPercentage = 40;

            // Calculate total cost of truck rolls
            var totalCostOfTruckRolls = numTruckRolls * costPerTruckRoll;

            // Calculate potential savings
            var potentialSavings = totalCostOfTruckRolls * (reductionPercentage / 100);


            // Format potential savings as currency
            var formattedSavings = "{{page.resultCostCurrencyPre}}" + potentialSavings.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '{{page.thousandsSeparator}}') + "{{page.resultCostCurrencyPost}}";
            var formattedtotalCostOfTruckRolls = "{{page.resultCostCurrencyPre}}" + totalCostOfTruckRolls.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '{{page.thousandsSeparator}}') + "{{page.resultCostCurrencyPost}}";

            // Display results
            //document.getElementById("results").innerHTML = '<p class="h3" data-trigger="hover" data-bs-toggle="tooltip" data-placement="top" title="{{page.resultCostHint}}">{{page.resultCosth3}}: ' + formattedtotalCostOfTruckRolls + '</p>';
            //document.getElementById("results_2").innerHTML = '<p data-trigger="hover" data-bs-toggle="tooltip" title="{{page.resultReductionHint}}">{{page.resultReductionLabel}}: ' + formattedSavings + '</p>';
        }

        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }

                        form.classList.add('was-validated')
                    }, false)
                })
        })()

    </script>
</body>

</html>